{% extends "base.html" %}
{% import"_macros.html" as macros %}

{% block title %}
周报系统--组管理
{% endblock %}

{% block page_content %}
    <div class="page-header">
        <h1>组管理</h1>
    </div>
    <a class="btn btn-default" href="{{ url_for('gp.add_group') }}">添加组</a>
    <table class="table table-hover users">
    <thead><tr><th>组名</th><th>组长</th><th>简介</th><th>周报数量</th><th>管理组</th><th>删除组</th></tr></thead>
    {% for group in groups %}
        <tr>
            <td>
                <a href="{{ url_for('gp.view_group', group_name=group.group_name) }}">
                    {{ group.group_name }}
                </a>
            </td>
            <td>{{ group.leader.name }}</td>
            <td>{{ group.introduction }}</td>
            <td>{{ group.weekly.count() }}</td>
            <td><a class="btn btn-default" href="{{ url_for('gp.edit_group', group_id = group.id) }}">编辑</a></td>
            <td><a class="btn btn-danger" href="{{ url_for('gp.delete_group', group_id = group.id) }}">删除</a></td>
        </tr>
    {% endfor %}
    </table>
    <div class="pagination">
        {{ macros.pagination_widget(pagination, endpoint) }}
    </div>
{% endblock %}
